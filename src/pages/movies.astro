---
import Layout from '../layouts/Layout.astro';

const movies = [
  {
    source: {
      title: 'å¯»æ‰¾å°ç³–äºº Searching for Sugar Man',
      preview: 'ç½—å¾·é‡Œæ ¼æ–¯åœ¨ä¸Šä¸–çºª70å¹´ä»£å‘è¡Œè¿‡ä¸¤å¼ ä¸“è¾‘ã€ŠCold Factã€‹ä¸ã€ŠComing From Realityã€‹ï¼Œ...',
      site: 'movie.douban.com',
      image: 'https://via.placeholder.com/80x110/e67e22/fff?text=Sugar+Man',
    },
    content: 'æœ‰å¹¸èƒ½ä¸è¿™ä¹ˆå¥½çš„çºªå½•ç‰‡ç›¸é‡ã€‚',
    video: {
      thumbnail: 'https://via.placeholder.com/800x450/333/666?text=Video+Preview',
      url: '#',
    },
    time: '10 days ago',
  },
];
---

<Layout title="å½±è§† - Limboy">
  <div class="movies-page">
    {movies.map((movie) => (
      <article class="movie-card">
        <!-- å½±ç‰‡å¼•ç”¨ -->
        <div class="source-block">
          <div class="source-info">
            <p class="source-title">{movie.source.title}</p>
            <p class="source-preview">{movie.source.preview}</p>
            <p class="source-site">{movie.source.site}</p>
          </div>
          <div class="source-image">
            <img src={movie.source.image} alt="" />
          </div>
        </div>

        <!-- è¯„è®ºå†…å®¹ -->
        <div class="movie-content">
          <p>{movie.content}</p>
        </div>

        <!-- è§†é¢‘é¢„è§ˆ -->
        {movie.video && (
          <div class="video-preview">
            <a href={movie.video.url} class="video-link">
              <img src={movie.video.thumbnail} alt="è§†é¢‘é¢„è§ˆ" class="video-thumbnail" />
              <div class="play-button">
                <span class="play-icon">â–¶</span>
              </div>
            </a>
          </div>
        )}

        <!-- åº•éƒ¨ -->
        <div class="movie-footer">
          <div class="movie-actions">
            <button class="action-btn">â™¡</button>
            <button class="action-btn">ğŸ’¬</button>
          </div>
          <span class="movie-time">{movie.time}</span>
        </div>
      </article>
    ))}
  </div>
</Layout>

<style>
  .movies-page {
    padding-bottom: 60px;
  }

  .movie-card {
    background: #fff;
    border: 1px solid #e8e8e8;
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
  }

  /* å½±ç‰‡å¼•ç”¨å— */
  .source-block {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    background: #f8f9fa;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
  }

  .source-info {
    flex: 1;
    min-width: 0;
  }

  .source-title {
    font-weight: 600;
    color: #4a7298;
    margin-bottom: 4px;
  }

  .source-preview {
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 4px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .source-site {
    color: #999;
    font-size: 0.85rem;
  }

  .source-image {
    flex-shrink: 0;
    margin-left: 16px;
  }

  .source-image img {
    width: 70px;
    height: 100px;
    border-radius: 4px;
    object-fit: cover;
  }

  /* è¯„è®ºå†…å®¹ */
  .movie-content {
    margin-bottom: 20px;
  }

  .movie-content p {
    color: #333;
    line-height: 1.8;
  }

  /* è§†é¢‘é¢„è§ˆ */
  .video-preview {
    margin-bottom: 20px;
    border-radius: 12px;
    overflow: hidden;
  }

  .video-link {
    display: block;
    position: relative;
  }

  .video-thumbnail {
    width: 100%;
    height: auto;
    display: block;
  }

  .play-button {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 64px;
    height: 64px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s;
  }

  .video-link:hover .play-button {
    transform: translate(-50%, -50%) scale(1.1);
  }

  .play-icon {
    color: #333;
    font-size: 1.5rem;
    margin-left: 4px;
  }

  /* åº•éƒ¨ */
  .movie-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 8px;
  }

  .movie-actions {
    display: flex;
    gap: 16px;
  }

  .action-btn {
    background: none;
    border: none;
    font-size: 1.1rem;
    cursor: pointer;
    padding: 4px;
    opacity: 0.6;
    transition: opacity 0.2s;
  }

  .action-btn:hover {
    opacity: 1;
  }

  .movie-time {
    color: #4a7298;
    font-size: 0.85rem;
  }
</style>
